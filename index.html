<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="./style.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;700;900&family=Poppins:wght@100;300;400;500;600;700;800;900&display=swap"
            rel="stylesheet"
        />

        <title>qwerty</title>
    </head>

    <body>
        <!-- 사이드 -->
        <div class="aside">
            <div class="logo-bx">
                <a href="index.html">
                    <img src="./img/LCK.png" alt="LCK-logo" />
                </a>
            </div>
            <div class="nav-slider-wrap">
                <div class="nav-slider-wrap__fake">
                    <ul class="nav-slider">
                        <li>
                            <a href="">
                                <span>About</span>
                                <span></span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>News</span>
                                <span></span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>DK</span>
                                <span>Dplus Kia</span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>DRX</span>
                                <span>DRX</span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>GEN</span>
                                <span>Gen.G Esports</span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>HLE</span>
                                <span>Hanwha Life Esports</span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>KDF</span>
                                <span>KWANGDONG FREECS</span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>KT</span>
                                <span>kt Rolster</span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>LSB</span>
                                <span>Liiv SANDBOX</span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>NS</span>
                                <span>Nongshim RedForce</span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>BRO</span>
                                <span>OKSavingsBank BRION</span>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <span>T1</span>
                                <span>T1</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="hamburger">
                <span class="petty"></span>
            </div>
        </div>

        <!-- 메인 -->
        <div class="main">
            <!-- 1 페이지 -->
            <div id="page-01" class="page">
                <div class="headline">
                    <div>ORIGIN</div>
                    <div>AGAIN</div>
                    <div class="headline-sub">
                        <div>2023 LoL Champions Korea</div>
                    </div>
                </div>
            </div>

            <!-- 2 페이지 -->
            <div id="page-02" class="page">
                <div class="headline">
                    <div><span style="font-size: 9rem">GEN.G</span></div>
                    <div>CHAMPION</div>
                    <div class="headline-sub">
                        <div><span style="margin: 0 2rem">of</span>2023 LoL Champions Korea summer</div>
                    </div>
                </div>
                <div class="page-02__container"></div>
            </div>

            <!-- 3 페이지 -->
            <div id="page-03" class="page">
                <div class="headline">
                    <div>PAGE</div>
                    <div>3</div>
                    <div class="headline-sub">
                        <div>team</div>
                    </div>
                </div>
                <div class="team-slider">
                    <!-- DK -->
                    <div class="team-slider__items" name="dk"></div>
                    <!-- DRX -->
                    <div class="team-slider__items" name="drx"></div>
                    <!-- GENG -->
                    <div class="team-slider__items" name="geng"></div>
                    <!-- HLE -->
                    <div class="team-slider__items" name="hle"></div>
                    <!-- KDF -->
                    <div class="team-slider__items" name="kdf"></div>
                    <!-- KT -->
                    <div class="team-slider__items" name="kt"></div>
                    <!-- LSB -->
                    <div class="team-slider__items" name="lsb"></div>
                    <!-- NS -->
                    <div class="team-slider__items" name="ns"></div>
                    <!-- BRO -->
                    <div class="team-slider__items" name="bro"></div>
                    <!-- T1 -->
                    <div class="team-slider__items" name="t1"></div>
                </div>
            </div>

            <!-- 4 페이지 -->
            <div id="page-04" class="page">
                <div class="headline">
                    <div>PAGE</div>
                    <div>4</div>
                    <div class="headline-sub">
                        <div>ranking</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 컴포넌트 -->
        <div class="component">
            <div class="category">
                <div class="category__label">
                    <span>Main</span>
                    <span>News</span>
                    <span>Team</span>
                    <span>Ranking</span>
                </div>
            </div>
            <div class="page-number">
                <div class="page-number__now"></div>
                <div>of</div>
                <div>4</div>
            </div>
            <div class="aside-line"></div>
            <div class="section-line"></div>
            <div class="breadcrumbs">scroll down</div>
        </div>
    </body>
</html>
<script>
    const q = (q) => document.querySelector(q);
    const qAll = (q) => document.querySelectorAll(q);

    /*************** 햄버거 메뉴 제어 ***************/
    const hamburger = q(".hamburger");
    const navSliderWrap = q(".nav-slider-wrap");
    hamburger.addEventListener("click", toggleHamburgerNav);

    function toggleHamburgerNav() {
        hamburger.classList.toggle("on");
        navSliderWrap.classList.toggle("on");
    }

    /*************** 풀 페이지 & 스크롤 이벤트 제어 ***************/
    const pageNumberNow = q(".page-number__now");
    const categoryLabel = q(".category__label");

    /* 새로고침시 페이지 스크롤 맨위로 조정 */
    window.onload = () => {
        setTimeout(() => {
            scrollTo(0, 0);
        }, 100);
    };

    /* 마우스 휠 기본이벤트 제거 */
    window.addEventListener(
        "wheel",
        function (e) {
            e.preventDefault();
        },
        { passive: false }
    );

    const html = q("html");
    let page = 1;
    const lastPage = qAll(".page").length;
    const componentLineHeight = 25;

    /* component - page number 부여 */
    for (let i = 1; i <= lastPage; i++) {
        pageNumberNow.innerHTML += `<div>${i}</div>`;
    }

    let wheelMove = 0; // 휠 동작 감시 변수

    /**
     * 풀페이지 스크롤 제어
     * 1. 휠 동작중 중복동작 제어 및 delay 조절
     * 2. Y축 스크롤 제어
     * 3. componentHanddler 함수 제어
     */
    function scrollHandler(e) {
        if (wheelMove) return; // 나감
        wheelMove = 1; // 잠금
        setTimeout(() => {
            wheelMove = 0;
        }, 800);

        if (e.deltaY > 0) {
            if (page == lastPage) {
                return;
            }
            page++;
        }
        if (e.deltaY < 0) {
            if (page == 1) {
                return;
            }
            page--;
        }
        let posTop = (page - 1) * document.body.clientHeight;
        html.scrollTo({ top: posTop, behavior: "smooth" });
        componentHanddler();
        
    }

    /** 카테고리, 페이지넘버 핸들러  */
    function componentHanddler() {
        categoryLabel.style.transform = `translateY(${-componentLineHeight * (page - 1)}px)`;
        pageNumberNow.style.transform = `translateY(${-componentLineHeight * (page - 1)}px)`;
    }

    /* 최종 풀페이지 & 스크롤 이벤트 제어 */
    window.addEventListener("wheel", scrollHandler);

    /*************** page 컨텐츠 ***************/

    // page02
    const page02Container = q(".page-02__container");

    /* 2페이지 배경이미지 모음 */
    const page02Imgs = [
        "./img/geng/win_summer_2023_2.jpg",
        "./img/geng/win_summer_2023_3.jpg",
        "./img/geng/win_summer_2023_4.jpg",
        "./img/geng/win_summer_2023_5.jpg",
    ];

    /* 2페이지 배경이미지 삽입 */
    page02Imgs.forEach((val, idx) => {
        page02Container.innerHTML += `
            <img src="${val}" class="imgs" style="opacity:${idx == 0 ? 1 : 0};">
        `;
    });

    let imgs = qAll(".imgs");
    let seq = 0;

    /* 배경이미지 변경 시간 조절 */
    setInterval(() => {
        imgs[seq].style.opacity = 0;
        seq++;
        if (seq == page02Imgs.length) seq = 0;
        imgs[seq].style.opacity = 1;
    }, 5000);

    // page03
    const teamSliderItems = qAll(".team-slider__items");
    const teamLogoBoxes = qAll(".team-logo-bx");

    /** 선수명단 - 팀: {포지션: 이름}  */
    const playerList = {
        bro: {
            top: "morgan",
            jg: "umti",
            mid: "karis",
            ad: "hena",
            sup: "effort",
        },
        dk: {
            top: "canna",
            jg: "canyon",
            mid: "showmaker",
            ad: "deft",
            sup: "kellin",
        },
        drx: {
            top: "rascal",
            jg: "croco",
            mid: "fate",
            ad: "deokdom",
            sup: "beryl",
        },
        geng: {
            top: "doran",
            jg: "peanut",
            mid: "chovy",
            ad: "peyz",
            sup: "delight",
        },
        
        hle: {
            top: "kingen",
            jg: "clid",
            mid: "zeka",
            ad: "viper",
            sup: "life",
        },
        kdf: {
            top: "dudu",
            jg: "youngjae",
            mid: "bulldog",
            ad: "taeyoon",
            sup: "jun",
        },
        kt: {
            top: "kiin",
            jg: "cuzz",
            mid: "bdd",
            ad: "aiming",
            sup: "lehends",
        },
        lsb: {
            top: "burdol",
            jg: "willer",
            mid: "clozer",
            ad: "teddy",
            sup: "kael",
        },
        ns: {
            top: "dndn",
            jg: "sylvie",
            mid: "fiesta",
            ad: "vital",
            sup: "peter",
        },
        t1: {
            top: "zeus",
            jg: "oner",
            mid: "faker",
            ad: "gumayusi",
            sup: "keria",
        }
    };

    teamSliderItems.forEach((ele, idx) => {
        /* 팀 슬라이더 flex 조절 - on class 부여 */
        ele.addEventListener("click", (e) => {
            teamSliderItems.forEach((ele) => {
                ele.classList.remove("on");
            });
            ele.classList.add("on");
        });
        const teamName = ele.getAttribute("name");

        ele.innerHTML = `
            <div class="team-logo-bx">
                <img src="./img/${teamName}/${teamName}_logo.png"/>
            </div>
            <div class="team-name-box">
                ${teamName}
            </div>
            <div class="team-player-box">
                <div class="top-player-box"></div>
                <div class="jg-player-box"></div>
                <div class="mid-player-box"></div>
                <div class="ad-player-box"></div>
                <div class="sup-player-box"></div>
            </div>
        `;
    });
</script>
