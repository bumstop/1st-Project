<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="./style.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;700;900&family=Poppins:wght@100;300;400;500;600;700;800;900&display=swap"
            rel="stylesheet"
        />

        <title>qwerty</title>
    </head>

    <body>
        <div class="aside">
            <a href="index.html">
                <div class="logo_bx">
                    <img src="./img/LCK.png" alt="LCK_logo" />
                </div>
            </a>
            <div class="hamburger">
                <span class="petty"></span>
            </div>
        </div>
        <div class="main">
            <div id="page1" class="page">
                <div class="headline">
                    <div>ORIGIN</div>
                    <div>AGAIN</div>
                    <div class="headline_sub">
                        <div>2023 LoL Champions Korea</div>
                    </div>
                </div>
            </div>
            <div id="page2" class="page">
                <div class="headline">
                    <div>PAGE</div>
                    <div>2</div>
                    <div class="headline_sub">
                        <div>2023 LoL Champions Korea</div>
                    </div>
                </div>
            </div>
            <div id="page3" class="page">
                <div class="headline">
                    <div>PAGE</div>
                    <div>3</div>
                    <div class="headline_sub">
                        <div>2023 LoL Champions Korea</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="component">
            <div class="category">
                <div class="category__label">
                    <span>News</span>
                    <span>Team</span>
                    <span>Match</span>
                </div>
            </div>
            <div class="page_number">
                <div class="page_number__now">
                    <div>1</div>
                    <div>2</div>
                    <div>3</div>
                </div>
                <div>of</div>
                <div>3</div>
            </div>
            <div class="aside_line"></div>
            <div class="section_line"></div>
            <div class="breadcrumbs">scroll down</div>
        </div>
    </body>
</html>
<script>
    const q = (q) => document.querySelector(q);

    //----------햄버거 메뉴 제어----------
    q(".hamburger").addEventListener("click", toggleHamburgerMenu);

    function toggleHamburgerMenu() {
        q(".hamburger").classList.toggle("active");
    }

    //----------풀 페이지 & 스크롤 이벤트 제어----------
    window.addEventListener("wheel",function (e) {
            e.preventDefault();
        },{ passive: false }
    ); //마우스 휠 기본이벤트 제거

    const html = q("html");
    let page = 1;
    const lastPage = 3;
    let scrollChk = false;
    const lineHeight = 25;
    window.addEventListener("wheel", function (e) {       
            if (e.deltaY > 0 && ! scrollChk) {
                scrollChk = true;
                setTimeout(() => {scrollChk = false}, 1000);
                if (page == lastPage) {
                    scrollChk = false;
                    return;
                }
                page++;
            } 
            else if (e.deltaY < 0 && !scrollChk) {
                scrollChk = true;
                setTimeout(() => {scrollChk = false}, 1000);
                if (page == 1) {
                    scrollChk = false;
                    return;
                }
                page--;
            }

            let posTop = (page - 1) * document.body.clientHeight;
            html.scrollTo({ top: posTop, behavior: "smooth" });
            componentHanddler();
            console.log(posTop);
            // q('.main').style.transform = `translateY(${-posTop}px)`;
            // html.scrollTop = posTop;
    });
    
    function componentHanddler() {
        q(".category__label").style.transform = `translateY(${-lineHeight * (page - 1)}px)`;
        q(".page_number__now").style.transform = `translateY(${-lineHeight * (page - 1)}px)`;
    }; //카테고리, 페이지넘버 핸들러
</script>
